<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12</title>
</head>
<body>
    <button class="play-button" onclick="changPlayButton();">Start</button>
    <p></p>
    <button class="add-to-cart-button" onclick="displayMessage();">Add to cart</button>
    <p class="message"></p>
    <button onclick="numOfMessage += 1;">Add</button>
    <button onclick="numOfMessage = (numOfMessage > 0) ? numOfMessage - 1 : 0;">Remove</button>
    
    <script>
        /* 12a */
        const add = function() {
            console.log(2 + 3);
        }

        add();
        add();
        /* 12b */ 
        function runTwice(function2) {
            function2();
            function2();
        }

        function test() {
            console.log('test');
        }

        runTwice(function() {
            console.log('12b');
        });

        runTwice(add);
        runTwice(test);

        function changPlayButton() {
            const playButtonEle =  document.querySelector(".play-button");
            playButtonEle.innerHTML = 'Loading';

            setTimeout(function() {
                playButtonEle.innerHTML = 'Finished';
            },1000);
        }

        let timeoutId;

        function displayMessage() {
            const messageEle = document.querySelector('.message');
            messageEle.innerHTML = 'Added';

            clearTimeout(timeoutId);
            
            timeoutId = setTimeout(function() {
                messageEle.innerHTML = '';
            }, 2000)
        }

        let numOfMessage = 1;

        setInterval(function() {
            if (document.title === 'App' && numOfMessage !== 0) {
                document.title = `(${numOfMessage}) New message`;
            } else {
                document.title = 'App';
            }
        }, 1000);

        const multiply = (a, b) => a * b;

        console.log(multiply(3,5));

        const countPositive = (nums) => nums.filter((value, index) => value > 0).length;

        console.log(`count nums: ${countPositive([1, 2, 3, -2, -3])}`);

        const addNum = (array, num) => array.map((value) => value + num);

        console.log(addNum([1, 2, 3], 1));

        function removeEgg(array) {
            let count = 0;

            return array.filter((value) => {
                if (value === 'egg' && count < 2) {
                    count ++;

                    return false;
                } 
                
                return true;
            });
        }
        console.log(removeEgg(['egg', 'apple', 'egg', 'egg', 'egg', 'ham']));


        </script>
</body>
</html>